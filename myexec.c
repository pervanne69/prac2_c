/* ----------------------------------------------------*/
/* ИМЯ: Pogosian Samvel, ID пользователя: 23К0180      */
/* ДАТА: 02/10/2025                                    */
/* НАЗНАЧЕНИЕ ПРОГРАММЫ:                               */
/* Демонстрация замены образа процесса функцией exec.  */
/* Программа вызывает execl("/bin/ls", "ls", "-l", NULL)*/
/* ИМЯ ФАЙЛА: myexec.c                                 */
/* ----------------------------------------------------*/
/* ФУНКЦИИ:                                            */
/* main() – выводит сообщение, выполняет execl и       */
/*          (при ошибке) сообщает об ошибке.           */
/* ----------------------------------------------------*/

#include <stdio.h>
#include <unistd.h>

int main(void)
{
    /* сообщаем PID и намерение выполнить exec */
    printf("I'm process of main program %d and I'm about to exec an ls -l\n",
           (int)getpid());

    /* заменяем текущий процесс на /bin/ls -l */
    execl("/bin/ls", "ls", "-l", (char *)NULL);

    /* Если exec вернул управление, значит произошла ошибка */
    perror("execl");
    return 1;
}
